# Image CLI autonome deterministe

# NOTE: tag digest non pinne pour rester simple; on force --pull dans le workflow

FROM python:3.11-slim
WORKDIR /app

# Genere un script CLI trivial, sans dependances repo

RUN python - <<'PY'
from pathlib import Path
Path('/app/cli.py').write_text('print("coulisses-cli: OK")\n', encoding='utf-8')
PY

# Test rapide possible: docker run cli:test

ENTRYPOINT ["python","/app/cli.py"]
