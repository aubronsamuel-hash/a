{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Coulisses Crew \u2014 Documentation","text":"<p>Bienvenue dans la documentation produit et technique.</p> <ul> <li>Guide: prise en main du projet</li> <li>Backend: API et conventions</li> <li>Ops: exploitation et monitoring</li> <li>ADR: Architectural Decision Records</li> </ul>"},{"location":"getting-started/","title":"Demarrage","text":""},{"location":"getting-started/#prerequis","title":"Prerequis","text":"<ul> <li>Python 3.11+</li> <li>Git</li> <li>(Optionnel) Docker Desktop</li> </ul>"},{"location":"getting-started/#installation-des-docs","title":"Installation des docs","text":"<pre><code>pip install -r requirements-docs.txt\n</code></pre>"},{"location":"getting-started/#lancer-la-doc-en-local","title":"Lancer la doc en local","text":"<pre><code># Windows\n.\\\\scripts\\\\ps1\\\\docs\\\\serve.ps1\n</code></pre> <pre><code># Bash\n./scripts/bash/docs/serve.sh\n</code></pre>"},{"location":"getting-started/#structure","title":"Structure","text":"<pre><code>docs/\n  index.md\n  getting-started.md\n  backend/api.md\n  ops/monitoring.md\n  adr/\n    0000-template.md\n</code></pre>"},{"location":"getting-started/#deploiement","title":"Deploiement","text":"<ul> <li>Via CI GitHub Pages (branche <code>gh-pages</code>).</li> <li>Manuel: <code>.\\\\scripts\\\\ps1\\\\docs\\\\gh_pages.ps1</code> (cree/force la branche de pages).</li> </ul>"},{"location":"getting-started/#bonnes-pratiques","title":"Bonnes pratiques","text":"<ul> <li>Pas de secrets dans la doc.</li> <li>Lier vers les READMEs specifiques.</li> </ul>"},{"location":"adr/0000-template/","title":"ADR:  <ul> <li>Date: YYYY-MM-DD</li> <li>Statut: propose | accepte | rejete</li> <li>Contexte:  <li>Decision:  <li>Consequences:","text":""},{"location":"backend/api/","title":"API Backend","text":"<ul> <li>Base: FastAPI</li> <li>Health: <code>GET /healthz</code></li> <li>Readiness: <code>GET /readyz</code></li> <li>Metrics: <code>GET /metrics</code> (si active)</li> </ul> <p>Generer et publier le schema OpenAPI (optionnel) dans une etape future.</p>"},{"location":"ci/frontend-storybook/","title":"CI Frontend: Storybook (monorepo)","text":""},{"location":"ci/frontend-storybook/#contrainte","title":"Contrainte","text":"<p>Le lockfile est sous <code>frontend/package-lock.json</code>. Le cache integre de <code>actions/setup-node@v4</code> (<code>cache: npm</code>) peut echouer avec:</p> <p>Some specified paths were not resolved, unable to cache dependencies.</p>"},{"location":"ci/frontend-storybook/#solution-robuste","title":"Solution robuste","text":"<ul> <li>Utiliser <code>actions/cache@v4</code> sur <code>~/.npm</code> avec une cle basee sur <code>frontend/package-lock.json</code>.</li> <li>Forcer <code>NPM_CONFIG_CACHE=~/.npm</code> pendant <code>npm ci</code>.</li> </ul> <p>Extrait:</p> <pre><code>- uses: actions/setup-node@v4\n  with:\n    node-version: '20'\n\n- uses: actions/cache@v4\n  with:\n    path: ~/.npm\n    key: ${{ runner.os }}-npm-${{ hashFiles('frontend/package-lock.json') }}\n\n- run: npm ci --no-audit --no-fund\n  env:\n    NPM_CONFIG_CACHE: ~/.npm\n</code></pre> <p>Smoke Servir storybook-static et curl sur 6006 pour un 200.</p>"},{"location":"ops/monitoring/","title":"Monitoring","text":"<ul> <li>Prometheus: scrape <code>/metrics</code> (voir etape 45)</li> <li>Grafana: dashboards provisionnes (voir etape 38)</li> <li>Alertes: Alertmanager (routes par defaut)</li> </ul>"},{"location":"ops/monitoring/#checks","title":"Checks","text":"<ul> <li><code>probe_success{job=\"blackbox_api\"}</code> == 1</li> <li>p95 latence &lt; 500ms</li> </ul>"}]}